---
const links = [
  { href: "#hero", label: "Home" },
  { href: "#about", label: "About" },
  { href: "#experience", label: "Experience" },
  { href: "#contact", label: "Contact" },
];
---

<header
  id="nav"
  class="fixed top-0 left-0 right-0 z-50 bg-[#09090b]/80 backdrop-blur-md border-b border-white/[0.06]"
>
  <nav class="max-w-4xl mx-auto px-6 h-14 flex items-center justify-between">
    <!-- Logo -->
    <a
      href="#hero"
      class="font-mono text-sm text-zinc-400 hover:text-cyan-400 transition-colors tracking-wider"
    >
      oskaruddenberg.com
    </a>

    <!-- Nav links -->
    <ul class="flex items-center gap-6 text-sm">
      {
        links.map(({ href, label }) => (
          <li>
            <a
              href={href}
              class="nav-link text-zinc-500 hover:text-zinc-100 transition-colors font-medium"
              data-section={href.replace("#", "")}
            >
              {label}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
</header>

<script>
  const links = document.querySelectorAll<HTMLAnchorElement>(".nav-link");
  const sections = document.querySelectorAll<HTMLElement>("section[id]");

  function setActive() {
    let current = "";
    sections.forEach((section) => {
      if (section.getBoundingClientRect().top <= 80) current = section.id;
    });
    links.forEach((link) => {
      const isActive = link.dataset.section === current;
      link.classList.toggle("text-cyan-400", isActive);
      link.classList.toggle("text-zinc-500", !isActive);
    });
  }

  window.addEventListener("scroll", setActive, { passive: true });
  setActive();
</script>
