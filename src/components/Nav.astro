---
const links = [
  { href: "#hero", label: "Home" },
  { href: "#about", label: "About" },
  { href: "#experience", label: "Experience" },
  { href: "#contact", label: "Contact" },
];
---

<header
  id="nav"
  class="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-b border-gray-100 transition-shadow duration-300"
>
  <nav class="max-w-4xl mx-auto px-6 h-14 flex items-center justify-between">
    <!-- Logo / Name -->
    <a href="#hero" class="font-semibold text-[#111] hover:text-[#2563EB] transition-colors">
      Oskar Uddenberg
    </a>

    <!-- Nav links -->
    <ul class="flex items-center gap-6 text-sm">
      {
        links.map(({ href, label }) => (
          <li>
            <a
              href={href}
              class="nav-link text-gray-500 hover:text-[#111] transition-colors font-medium"
              data-section={href.replace("#", "")}
            >
              {label}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
</header>

<script>
  // Highlight active nav link based on scroll position
  const links = document.querySelectorAll<HTMLAnchorElement>(".nav-link");
  const sections = document.querySelectorAll<HTMLElement>("section[id]");

  function setActive() {
    let current = "";
    sections.forEach((section) => {
      const top = section.getBoundingClientRect().top;
      if (top <= 80) current = section.id;
    });
    links.forEach((link) => {
      const isActive = link.dataset.section === current;
      link.classList.toggle("text-[#2563EB]", isActive);
      link.classList.toggle("text-gray-500", !isActive);
    });
  }

  window.addEventListener("scroll", setActive, { passive: true });
  setActive();
</script>
